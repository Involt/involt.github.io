<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Barrel roll | Involt - Arduino to html prototyping framework for designers.</title>
	<meta content="Basic Javascript/JQuery example of reading data from device and manipulating the DOM." name="description"></meta>
	<meta content="hardware prototyping, software to hardware, arduino, html, arduino to html, framework, jquery, chrome app, physical computing, communication" name="keywords"></meta>
	<meta content="width=device-width, initial-scale=1" name="viewport"></meta>
	<link rel="shortcut icon" type="image/png" href="../favicon.png"/>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<!--<script src="js/less.js"></script>-->
	<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700|Source+Code+Pro:300' rel='stylesheet' type='text/css'>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-69535393-1', 'auto');
	  ga('send', 'pageview');
	</script>
</head>
<body>
	<header>
		<div class="container-head">
			<a href="../index.html" class="logo"><img src="../img/logo.svg" alt=""></a>
			<div class="ham-btn">
				<div>
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>	
			<nav>
				<a href="../index.html">Home</a>
				<a href="../getting-started.html">Getting started</a>
				<a href="../examples.html">Examples</a>
				<a href="../reference.html">Reference</a>
				<a href="../about.html">About</a>
				<a href="https://github.com/Involt/Involt">Github</a>
			</nav>
		</div>
	</header>
	<div class="bg-gray">
		<div class="container">
			<div class="sidebar reference">
				<h2>Examples:</h2>
				<div>
					<a href="blink.html">Blink tutorial</a>
				</div>
				<div>
					<a href="2knobs.html">2 Knobs 1 App</a>
				</div>
				<div>
					<a href="barrelroll.html">"Do a barrel roll"</a>
				</div>
				<div>
					<a href="involtjq.html">Involt as JQuery plugin</a>
				</div>
				<div>
					<a href="strings.html">Send/receive more...</a>
				</div>
			</div>
			<main>
				<h3>"Do a barrel roll"</h3>
				<h4>Circuit</h4>
				<p>This example shows how to prepare custom JQuery script to control element without use of framework UI elements. Connect potentiometers to pin A0 and A1.</p>
				<img src="../img/fritzing1.png" alt="">
				<h4>Edit the Involt Arduino sketch</h4>
				<div class="code arduino">
					<div class="code-m">
						... <br><br>
						void loop(){
						<p>involtReceive(); </p>
						<br>
						<p style="color:blue;">involtSend(0, analogRead(A0));</p>
						<p>delay(2);</p>
						<p style="color:blue;">involtSend(1, analogRead(A1));</p>
						<p>delay(2);</p>
						}
						<br><br>
						...
					</div>			
				</div>
				<h4>HTML & CSS</h4>
				<p>In this tutorial we need big square at the center of app screen. First add HTML code in app.html to create square.</p>
				<div class="code html">&lt;div class="square"&gt;&lt;/div&gt;</div>
				<p>Create custom JavaScript file and CSS.</p>
				<div class="code html">
					&lt;script src="customjquery.js"&gt;&lt;/script&gt; <br>
					&lt;link rel="stylesheet" type="text/css" href="customstyle.css"&gt;
				</div>
				<p>Add the CSS:</p>
				<div class="code">
					<div class="code-m">
						.square{<br>
						<p>margin: 200px auto;</p>
						<p>width: 200px;</p>
						<p>height: 200px;</p>
						<p>background: gray;</p>
					}
					</div>
				</div>
				<h3>JQuery</h3>
				<h4>Interval based script</h4>
				<p>The final step is real-time manipulation of square. Use set interval to automatically update data. Each analog pin value is stored in <span>involt.pin.A[index]</span> array where index is the pin number. The 50ms delay is used to lower the CPU usage.</p>
				<div class="code">
					<div class="code-m">
						setInterval(function(){ <br>
						<p>$(".square").css({</p>
						<br>
						<p>"width": involt.pin.A[0],</p>
						<p>"height": involt.pin.A[0],</p>
						<p>"transform": "rotate("+involt.pin.A[1]+"deg)"</p>
						<br>
						<p>});</p>
						},50); 
					</div>
				</div>
				<p>Now open your App and test the script. You should be able to rotate the square.</p>
				<h4>Listen for pin</h4>
				<p>You should be able to do the same thing with listening for pin function. The <span>involtListenForPin</span> must be defined for each pin separately.</p>
				<p>Important: because it will update the square each time the value of pins are received, you must add higher delay in your arduino sketch.</p>
				<div class="code javascript">
					<div class="code-m">
						involtListenForPin[0] = function(index, value){
							<p>$(".square").css({</p>
							<br>
							<p>"width": value,</p>
							<p>"height": value</p>
							<br>
							<p>});</p>
						}; <br><br>
						involtListenForPin[1] = function(index, value){
							<p>$(".square").css({</p>
							<br>
							<p>"transform": "rotate("+value+"deg)"</p>
							<br>
							<p>});</p>
						}; 
					</div>
				</div>
			</main>
		</div>
	</div>
	<footer>
		<div class="container">
			<div class="column">
				<img src="../img/ico1.svg" class="ico-small" alt="">
				<div class="footer-txt">
					Involt was made to quickly create interactive objects with software to hardware communication by using HTML and CSS. The goal is to help you to overcome the obstacles at prototyping stage.
				</div>
				<a href="../about.html">Read more</a>
			</div>
			<div class="column">
				<img src="../img/ico2.svg" class="ico-small" alt="">
				<div class="footer-txt">
					You can help develop framework on Github. There are new features added with each version. To see the progress of development check the changelog. Involt is under MIT license.
				</div>
				<a href="https://github.com/Involt/Involt/wiki/Changelog">See the Changelog</a>
			</div>
			<div class="column">
				<img src="../img/ico3.svg" class="ico-small" alt="">
				<div class="footer-txt">
					Used Involt and enjoyed it? Do you have any questions or suggestions? Help by sending feedback directly via mail.
				</div>
				<a href="mailto:ernestwarzocha@gmail.com">ernestwarzocha@gmail.com</a>
			</div>
		</div>
	</footer>
	<script src="../js/jq-ui.js"></script>
</body>
</html>